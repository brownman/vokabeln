(function() {
  $('#new_vocable .errorExplanation').remove();
  <% if @new_vocable.errors.empty? -%>
    $('#vocables tbody').append("<%= escape_javascript(render :partial => 'table_row', :object => @new_vocable, :as => :vocable) %>");
    $('#no-vocables-notice').addClass('totally-hidden');
    $('#new_vocable').get(0).reset();
    $('#vocable_foreign').focus();
  <% else -%>
    $('#new_vocable').prepend("<%= escape_javascript(error_messages_for @new_vocable, my_error_opts) %>");
  <% end -%>
})();
